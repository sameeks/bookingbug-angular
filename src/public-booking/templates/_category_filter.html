<ul class="filters" class="hidden-xs">
  <div class="row">
    <li class="col-sm-4 col-md-3" ng-repeat="category in vm.categories | orderBy: 'order'">
      <div 
        class="panel panel-service"  
        ng-click="vm.changeCategory(category)" 
        ng-class="{'selected': vm.selectedCategory.name == category.name}">

        <div class="panel-heading">
          <h3>{{category.name}}</h3>
        </div>

      </div> 
    </li>
  </div>
</ul>

<div bb-scroll-to="multi_service_select:categoryChanged" bb-always-scroll>
  <div ng-if="vm.selectedCategory" ng-show="vm.categories">
    <div class="section-heading">
      <h2 class="section-title">{{vm.selectedCategory.name}}</h2>
    </div>
    <p>{{vm.selectedCategory.description}}</p>

    <div class="panel">
      <div class="panel-body hidden-xs row">
        <div class="col-sm-6">Service</div>
        <div class="col-sm-1">Price</div>
        <div class="col-sm-2">Duration</div>
        <div class="col-sm-2"></div>
      </div>
    </div>

      <div ng-repeat="service in vm.selectedCategory.services">
          <div class="bb-list-item row">
            <div class="col-sm-6">
              <h4>{{service.name}}</h4>
            </div>

            <div class="col-sm-1">
              <span class="visible-xs-inline">Price: </span>{{service.price | icurrency}}
            </div>

            <div class="col-sm-2">
              <span class="visible-xs-inline">Duration: {{service.listed_duration | time_period}}</span>

            <span class="visible-xs">Duration: </span>    
               <div ng-show="service.durations.length == 1">{{service.listed_duration | time_period}}</div>    
               <select     
                  class="form-control"    
                  ng-show="service.durations.length > 1"    
                  ng-model="service.duration"     
                  ng-options="duration as (duration | time_period) for duration in service.durations"   
                  ng-change="vm.selectDuration(service, service.duration)">    
                <option value="">{{duration}}</option>    
               </select>
            </div>

            <div class="col-sm-2">
              <button 
                type="button" 
                class="btn btn-block btn-default" 
                ng-if="!service.selected" 
                ng-click="vm.addItem(service, duration)">
                Add
              </button>

              <button 
                type="button" 
                class="btn btn-block btn-default" 
                ng-if="service.selected"  
                ng-click="vm.removeItem(service)">
                Remove
              </button>
            </div>

            <div ng-show="service.description">
              <span 
                class="bb-btn bb-btn-link" 
                ng-hide="service.show_more" 
                ng-click="service.show_more = true">
                More
                <i class="fa fa-chevron-down" aria-hidden="true"></i>
              </span>

              <span 
                class="bb-btn bb-btn-link" 
                ng-show="service.show_more" 
                ng-click="service.show_more = false">
                Less
                <i class="fa fa-chevron-up" aria-hidden="true"></i>
              </span>
            </div>

            <div class="item-description col-sm-12">
              <p ng-show="service.show_more">{{service.description}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>